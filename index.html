<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>PhishGuard - ML-Powered Phishing Detection</title>
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="nav-brand">
                <div class="logo">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
                    </svg>
                </div>
                <div class="brand-text">
                    <h1>PhishGuard</h1>
                    <span>ML-Powered Detection</span>
                </div>
            </div>
            <nav class="nav-menu">
                <a href="#analyzer" class="nav-link active">Analyzer</a>
                <a href="#dashboard" class="nav-link">Dashboard</a>
                <a href="#education" class="nav-link">Education</a>
                <a href="#about" class="nav-link">About</a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- URL Analyzer Section -->
        <section id="analyzer" class="section active">
            <div class="container">
                <div class="analyzer-card">
                    <div class="analyzer-header">
                        <div class="icon-wrapper">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10" />
                                <line x1="2" y1="12" x2="22" y2="12" />
                                <path d="m5 12 7-7 7 7" />
                            </svg>
                        </div>
                        <h2>URL Security Analysis</h2>
                        <p>Enter a website URL to analyze potential phishing threats using our ML model</p>
                    </div>

                    <div class="url-input-section">
                        <div class="input-wrapper">
                            <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10" />
                                <line x1="2" y1="12" x2="22" y2="12" />
                                <path d="m5 12 7-7 7 7" />
                            </svg>
                            <input type="url" placeholder="https://example.com" class="url-input" id="urlInput" />
                        </div>
                        <button class="analyze-btn" id="analyzeBtn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8" />
                                <path d="m21 21-4.35-4.35" />
                            </svg>
                            Analyze URL
                        </button>
                    </div>
                </div>

                <!-- Results Card -->
                <div class="results-card" id="resultsCard" style="display:none;">
                    <div class="results-header">
                        <h3>Analysis Results</h3>
                        <div class="risk-badge" id="riskBadge">RISK</div>
                    </div>

                    <div class="analyzed-url">
                        <span class="url-label">Analyzed URL:</span>
                        <span class="url-text" id="analyzedUrl"></span>
                    </div>

                    <div class="results-grid">
                        <div class="confidence-section">
                            <h4>Confidence Score</h4>
                            <div class="progress-wrapper">
                                <div class="progress-info">
                                    <span>Accuracy</span>
                                    <span id="confidencePercent">0%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="confidenceBar" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>

                        <div class="indicators-section">
                            <h4>Risk Assessment</h4>
                            <div class="indicators-list" id="indicatorsList">
                                <!-- Dynamic indicators will be inserted here -->
                            </div>
                        </div>
                    </div>

                    <div class="features-section">
                        <h4>Feature Analysis</h4>
                        <div class="features-grid" id="featuresGrid">
                            <!-- Dynamic features will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="education" class="section">
            <div class="container">
                <div class="section-header">
                    <div class="section-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
                            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
                        </svg>
                    </div>
                    <h2>Phishing Education</h2>
                    <p>Learn to identify and protect yourself from phishing attacks</p>
                </div>

                <div class="education-content">
                    <div class="info-card">
                        <h3>What is Phishing?</h3>
                        <p>Phishing is a type of cyberattack where criminals impersonate legitimate organizations to steal sensitive information such as usernames, passwords, credit card numbers, and other personal data. These attacks typically occur through email, text messages, or malicious websites.</p>
                        <p>Our machine learning model analyzes various URL characteristics to help detect potential phishing attempts before you visit suspicious websites.</p>
                    </div>

                    <div class="tips-card">
                        <h3>How to Protect Yourself</h3>
                        <div class="tips-grid">
                            <div class="tip-item">
                                <div class="tip-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/>
                                        <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
                                    </svg>
                                </div>
                                <div>
                                    <h4>Check the URL Carefully</h4>
                                    <p>Look for misspellings, extra characters, or suspicious domains. Legitimate sites use proper spelling and known domains.</p>
                                    <div class="example">paypal.com vs payp4l.com</div>
                                </div>
                            </div>
                            <div class="tip-item">
                                <div class="tip-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                                    </svg>
                                </div>
                                <div>
                                    <h4>Look for HTTPS</h4>
                                    <p>Secure sites use HTTPS (look for the lock icon). However, phishing sites can also use HTTPS, so this alone isn't enough.</p>
                                    <div class="example">https:// vs http://</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="warning-card">
                        <div class="warning-header">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                <line x1="12" y1="9" x2="12" y2="13"/>
                                <line x1="12" y1="17" x2="12.01" y2="17"/>
                            </svg>
                            <h3>Warning Signs of Phishing</h3>
                        </div>
                        <div class="warning-list">
                            <div class="warning-item">• Suspicious or misspelled URLs</div>
                            <div class="warning-item">• Poor grammar and spelling</div>
                            <div class="warning-item">• Requests for sensitive information</div>
                            <div class="warning-item">• Threatening or urgent language</div>
                            <div class="warning-item">• Unexpected emails or messages</div>
                            <div class="warning-item">• Too good to be true offers</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="dashboard" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Analytics Dashboard</h2>
                    <p>Monitor phishing detection performance and system statistics</p>
                </div>
                <p>Dashboard content coming soon.</p>
            </div>
        </section>

        <section id="about" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>About PhishGuard</h2>
                    <p>Advanced machine learning for phishing detection and cybersecurity</p>
                </div>
                <p>This project leverages Logistic Regression to classify websites as either phishing or legitimate based on their URL features. It uses a dataset with 30 carefully engineered features, extracted from the URL and its characteristics (like presence of special characters, length, domain age, etc.), which are indicative of phishing behavior. The model is trained to learn the relationship between these features and the website label, and then predicts whether a given URL is safe or malicious. The simplicity and interpretability of Logistic Regression make it a suitable choice for understanding feature importance and building an efficient, lightweight classifier..</p>
            </div>
</body>
</html>

       

    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 PhishGuard. Built with machine learning for your security.</p>
        </div>
    </footer>

    <script>
        // Simple navigation functionality
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();

                // Remove active class from all links and sections
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));

                // Add active class to clicked link
                link.classList.add('active');

                // Show corresponding section
                const targetId = link.getAttribute('href').substring(1);
                document.getElementById(targetId).classList.add('active');
            });
        });

        // Analyze button click handler
        document.getElementById('analyzeBtn').addEventListener('click', async () => {
            const urlInput = document.getElementById('urlInput').value.trim();
            if (!urlInput) {
                alert('Please enter a URL to analyze.');
                return;
            }

            try {
                const formData = new FormData();
                formData.append('url', urlInput);

                const response = await fetch('/analyze', {
                    method: 'POST',
                    body: formData
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    alert('Error: ' + (errorData.error || 'Unknown error'));
                    return;
                }

                const data = await response.json();

                // Show results card
                const resultsCard = document.getElementById('resultsCard');
                resultsCard.style.display = 'block';

                // Update analyzed URL
                document.getElementById('analyzedUrl').textContent = data.url;

                // Update risk badge
                const riskBadge = document.getElementById('riskBadge');
                riskBadge.textContent = data.risk.toUpperCase();
                riskBadge.className = 'risk-badge'; // reset classes
                if (data.risk === 'high-risk') {
                    riskBadge.classList.add('high-risk');
                } else if (data.risk === 'moderate-risk') {
                    riskBadge.classList.add('moderate-risk');
                } else {
                    riskBadge.classList.add('safe-risk');
                }

                // Update confidence score
                document.getElementById('confidencePercent').textContent = data.confidence + '%';
                document.getElementById('confidenceBar').style.width = data.confidence + '%';

                // Clear previous indicators and features
                const indicatorsList = document.getElementById('indicatorsList');
                indicatorsList.innerHTML = '';
                const featuresGrid = document.getElementById('featuresGrid');
                featuresGrid.innerHTML = '';

                // Feature names mapping
                const featureNames = [
                    "Using IP Address",
                    "URL Length",
                    "URL Shortening Service",
                    "Contains '@' Symbol",
                    "Redirecting '//' in Path",
                    "Prefix or Suffix with '-'",
                    "Subdomain Count",
                    "HTTPS Token in Domain",
                    "Suspicious 'http' or 'https' in Domain",
                    "Count of Dots in Domain",
                    "Count of Hyphens in Domain",
                    "Count of '@' in Domain",
                    "Count of Digits in URL",
                    "Count of Special Characters",
                    "Length of Domain",
                    "Number of Subdirectories in Path",
                    "Non-standard Port",
                    "HTTPS in Scheme",
                    "Count of Query Parameters",
                    "Length of Query String",
                    "Presence of Fragment",
                    "Count of Hyphens in Path",
                    "Count of Dots in Path",
                    "Count of Digits in Domain",
                    "Count of Underscores in URL",
                    "Count of Percent Encoding",
                    "Count of Double Slashes in Path",
                    "Domain Age (Placeholder)",
                    "DNS Record Existence (Placeholder)",
                    "Alexa Rank or Traffic (Placeholder)"
                ];

                if (data.features) {
                    for (const [key, value] of Object.entries(data.features)) {
                        const featureCard = document.createElement('div');
                        featureCard.className = 'feature-card';

                        const featureHeader = document.createElement('div');
                        featureHeader.className = 'feature-header';

                        const featureName = document.createElement('span');
                        const index = parseInt(key);
                        featureName.textContent = featureNames[index] || `Feature ${key}`;

                        const riskTag = document.createElement('span');
                        riskTag.className = 'risk-tag low';
                        riskTag.textContent = value;

                        featureHeader.appendChild(featureName);
                        featureHeader.appendChild(riskTag);

                        const featureValue = document.createElement('p');
                        featureValue.className = 'feature-value';
                        featureValue.textContent = value;

                        featureCard.appendChild(featureHeader);
                        featureCard.appendChild(featureValue);

                        featuresGrid.appendChild(featureCard);
                    }
                }
            } catch (error) {
                alert('An error occurred while analyzing the URL: ' + error.message);
            }
        });
    </script>
</body>
</html>
